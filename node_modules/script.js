async function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    const res = await fetch("http://localhost:3000/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ username, password })
    });

    const data = await res.json();

    if (data.token) {
        token = data.token;
        document.getElementById('loginStatus').innerText = "Login berhasil!";
    } else {
        document.getElementById('loginStatus').innerText = "Login gagal!";
    }
}

async function loadUsers() {
    const res = await fetch("http://localhost:3000/users", {
        headers: { "Authorization": "Bearer " + token }
    });

    const data = await res.json();
    document.getElementById('userList').innerText = JSON.stringify(data, null, 2);
}